# Оглавление

Markdown-файлы хранятся в папке `md`

- **README.md** — Вы уже здесь, прочитайте чтобы узнать основную информацию!
- **STRUCTURE.md** — Информация о структуре данного проекта.

# telegram-zhorochka

Телеграм бот на Node.js с использованием модуля Telegraf. Функционал на данный момент скудный.

#### Команды:

1. `/eval` - Выполнить JavaScript код.

2. `/rules` - Вывести правила.

3. `/src` - Узнать информацию о сообщении в виде объекта Message

4. `/warn` - Выдать предупреждение пользователю. 3 предупреждения мут на час, 6 - на день, 10 - перманентный бан.
   
   #### Функции:
   
   1. Логирование ошибок в отдельную группу.

## Какая версия Node.js нужна?

Для этого бота рекомендуется версия Node.js не ниже LTS-версии ( на момент написания это v16.14.0 )

После установки не забудьте обновить npm:

```bash
npm i npm -g
```

## Как установить Node.js?

Для пользователей Windows есть установщик с [официального сайта](https://nodejs.org). Для Linux пользователей рекомендую установить [NVM](https://github.com/nvm-sh/nvm).

#### Установка Node.js через NVM:

Просто пропишите команду для установки LTS-версии:

```bash
nvm install --lts
```

Либо, если вам нужна определённая конкретная версия:

```bash
nvm install 16.14.0
```

## Как развернуть бота автоматически?

Для автоматической установки присутствует скрипт в `scripts/initialization.sh`.
Пропишите `npm run init` для запуска.

## Как развернуть бота вручную?

Пропишите данные команды в папке с проектом:

```bash
npm i               # Установка пакетов.
npm i typescript -g # Установка компилятора TypeScript'a
tsc --watch false   # Компиляция файлов.
npm run settings    # Запуск настройки конфигурации бота.
```

## Запуск бота

Для запуска бота пропишите:

```bash
npm run start
```

### pm2

Чтобы бот оставался в сети даже после ошибок или выхода из хоста, установите `pm2`

```bash
npm i pm2 -g
```

И запустите:

```bash
npm run pm2_start
```